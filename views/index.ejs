<!DOCTYPE html>
<html>
<head>
	<title>Notes</title>

	 <!--Import Google Icon Font-->
     <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <!--Import materialize.css-->
     <link type="text/css" rel="stylesheet" href="/stylesheets/lib/materialize.min.css"  media="screen,projection"/>
     <!--Import base style.css-->
     <link type="text/css" rel="stylesheet" href="/stylesheets/style.css"  media="screen,projection"/>

     <!--Let browser know website is optimized for mobile-->
     <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body ng-app="notes">
	<nav ng-controller="NavCtrl">
		<div class="nav-wrapper teal">
			<a href id="brand" class="brand-logo">Notes</a>
			<a href="#" data-activates="mobile-demo" class="button-collapse"><i id="hamburger" class="material-icons">menu</i></a>
			<ul class="right hide-on-med-and-down">
				<li ng-show="isLoggedIn()"><a href>Logged in as: {{ currentUser() }}</a></li>
				<li ng-show="isLoggedIn()"><a href ng-click="logOut()">Log out</a></li>
				<li ng-hide="isLoggedIn()"><a href="/#/login">Log in</a></li>
				<li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>
			</ul>
			<ul class="side-nav" id="mobile-demo">
				<li ng-show="isLoggedIn()"><a href class="black-text">Logged in as: {{ currentUser() }}</a></li>
				<li ng-show="isLoggedIn()"><a href="" ng-click="logOut()">Log out</a></li>
				<li ng-hide="isLoggedIn()"><a href="/#/login">Log in</a></li>
				<li ng-hide="isLoggedIn()"><a href="/#/register">Register</a></li>
			</ul>
		</div>
	</nav>
	<div class="container">
		<div class="row">
			<div class="col s12">
				<ui-view></ui-view>
			</div>
		</div>
	</div>
	<script type="text/ng-template" id="/home.html">
		<div class="row">
			<div class="col s12 ">
				<h2 class="center-align">Your notes</h2>
			</div>
		</div>
		<div class="row">
			<div class="col s12 s12 m4 offset-m4">
				<div class="card-panel black-text">
					<div class="card-content black-text">
						<span class="card-title">Add a new note</span>
						<textarea class="materialize-textarea" ng-model="body"></textarea>
					</div>
					<div class="card-action">
						<a class="teal-text" href ng-click="addNote()">ADD</a>
					</div>
					</div
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col s12 m3" ng-repeat="note in notes | orderBy:'-date'">
				<div class="card-panel hoverable teal" style="min-height:200px">
					<span class="white-text">{{note.body}}
					</span>
				</div>
			</div>
			<div class="col s12 m4 offset-m4" ng-show="notes.length == 0">
				<div class="card-panel hoverable green lighten-2 white-text">
					Go ahead, add your first note!
				</div>
			</div>
		</div>
	</script>
	<script type="text/ng-template" id="/register.html">

		<div class="row">
			<div class="col s12 m4 offset-m4">

				<div class="card-panel red lighten-2 white-text" ng-show="error">
					<span>{{ error.message }}</span>
				</div>

				<form ng-submit="register()">
					<div class="row center-align">
						<h3 class="bold">Register</h3>
					</div>
					<div class="row">
						<div class="input-field col s12">
							<input type="text"
							id="username"
							ng-model="user.username"></input>
							<label for="username">Username</label>
						</div>
					</div>
					<div class="row">
						<div class="input-field col s12">
							<input type="password"
							id="password"
							ng-model="user.password"></input>
							<label for="password">Password</label>
						</div>
					</div>
					<div class="row">
						<div class="col s8">
							<a href="/#/login" class="teal-text regular">I already have an account</a>
						</div>
						<div class="col s4">
							<button class="btn waves-effect waves-light" type="submit" name="action">Register
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</script>
		<script type="text/ng-template" id="/login.html">
			<div class="row">
				<div class="col s12 m4 offset-m4">

					<div class="card-panel red lighten-2 white-text" ng-show="error">
						<span>{{ error.message }}</span>
					</div>

					<form ng-submit="logIn()">
						<div class="row center-align">
							<h3 class="bold">Log In</h3>
						</div>
						<div class="row">
							<div class="input-field col s12">
								<input type="text"
								id="username"
								ng-model="user.username"></input>
								<label for="username">Username</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12">
								<input type="password"
								id="password"
								ng-model="user.password"></input>
								<label for="password">Password</label>
							</div>
						</div>
						<div class="row">
							<div class="col s8">
								<a href="/#/register" class="teal-text regular">I don't have an account</a>
							</div>
							<div class="col s4">
								<button class="btn waves-effect waves-light" type="submit" name="action">Login
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</script>
	<!--Import jQuery before materialize.js-->
	<script src="/javascripts/lib/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="/javascripts/lib/materialize.min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
	<script src="/javascripts/angularApp.js"></script>
	<script src="/javascripts/base.js"></script>
	</body>
	</html>